# Simulation Settings

The simulation model has a number of configurable settings, which the program expects to find in a ini-format settings.txt file in the directory it is executed from.
- If the settings.txt file does not exist, the program will automatically generate a new settings.txt file with the default values.
- When running a simulation, the simulation program will store a copy of settings.txt in the simulation run's data output directory, so that one can always know what settings were used for a given simulation.


## List of simulation settings

| Group       | Setting                            | Default value             | Comment                                                                                                                                                                          |
|-------------|------------------------------------|---------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| alpide      | pixel_shaping_active_time_ns       | 6000                      | Equivalent to Time over Threshold (ToT)                                                                                                                                          |
| alpide      | pixel_shaping_active_time_ns       | 200                       | Equivalent to rise time before ToT                                                                                                                                               |
| alpide      | clustering_enable                  | true                      | Enable clustering of adjacent pixel hits (and use of DATA LONG)                                                                                                                  |
| alpide      | region_fifo_size                   | 128                       | Depth of Region Readout Unit (RRU) FIFOs                                                                                                                                         |
| alpide      | region_fifo                        | 32                        | Region size. Not really used, hardcoded at the moment..                                                                                                                          |
| alpide      | matrix_readout_speed_fast          | true                      | Matrix priority encoder readout clock speed. True = 20MHz, false = 10MHz.                                                                                                        |
| alpide      | dmu_fifo_size                      | 64                        | Size of Data Management Unit (DMU) FIFO (the output "bottleneck" FIFO)                                                                                                           |
| alpide      | dtu_delay                          | 10                        | Delay (in clock cycles) to simulate delay introduced by serializing and encoding in DTU.                                                                                         |
| data_output | write_event_csv                    | true                      | Enable writing of event data (delta_t and multiplicity) to CSV file                                                                                                              |
| data_output | write_vcd                          | false                     | Enable writing SystemC signals to Value Change Dump(VCD) file (requires lots of disk space for many events)                                                                      |
| data_output | write_vcd_clock                    | false                     | Enable writing clock to VCD file (requires even more disk space)                                                                                                                 |
| simulation  | continuous_mode                    | false                     | Enable continuous mode (triggered if set to false)                                                                                                                               |
| simulation  | n_chips                            | 1                         | Number of chips to include in simulation                                                                                                                                         |
| simulation  | n_events                           | 10000                     | Number of (trigger/continuous) events to simulate                                                                                                                                |
| simulation  | random_seed                        | 0                         | Random seed. Setting to 0 will initialize random generatorswith a high entropy random seed.                                                                                      |
| event       | average_event_rate_ns              | 2500                      | Average event rate in nanoseconds                                                                                                                                                |
| event       | bunch_crossing_rate_ns             | 25                        | Bunch crossing rate/period in nanoseconds                                                                                                                                        |
| event       | hit_density_min_bias_per_cm2       | 19                        | Minimum bias hit density (traces) per square centimeter                                                                                                                          |
| event       | hit_multiplicity_distribution_file | multipl_dist_raw_bins.txt | Name/path of text file with discrete multiplicity distribution (used ifhit_multiplicity_distribution_type is set to discrete)                                                    |
| event       | hit_multiplicity_distribution_type | discrete                  | Choice of hit multiplicity distribution, either discrete or gaussian. Hitmultiplicity distribution is scaled to match the combination hit densityand number of chips.            |
| event       | hit_multiplicity_gauss_avg         | 2000                      | Average hit multiplicity in gaussian distribution (only used ifhit_multiplicity_distribution_type is set to gaussian). Not really used, and not fully implemented at the moment. |
| event       | hit_multiplicity_gauss_stddev      | 350                       | Standard deviation for hit multiplicity in gaussian distribution (only usedif hit_multiplicity_distribution_type is set to gaussian)                                             |
| event       | strobe_active_length_ns            | 4800                      | Strobe active time in nanoseconds                                                                                                                                                |
| event       | strobe_inactive_length_ns          | 200                       | Strobe inactive time in nanoseconds                                                                                                                                              |
| event       | trigger_delay_ns                   | 1000                      | Total trigger delay in nanoseconds                                                                                                                                               |
| event       | trigger_filter_enable              | true                      | Trigger filtering enable/disable (triggered mode only)                                                                                                                           |
| event       | trigger_filter_time_ns             | 10000                     | Trigger filter time in nanoseconds. If filtering is enabled, and twotriggers fall within this filter time, the last trigger(s) will be filtered(removed).                        |
